<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Armonizar</title>
    <link rel="shortcut icon" href="assets/images/iconapp.png" type="image/x-icon">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&amp;display=swap" rel="stylesheet">
    <script src="https://unpkg.com/tone@14.7.58/build/Tone.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tonejs/midi"></script>
    <link rel="stylesheet" href="assets/style.css">
    </head>
<body>
<div class="wrapper">
    <header>
      
        <nav>
            <ul>
                <li><a href="#" class="active-nav-link">Generador de progresiones</a></li>
                <li><a href="Index2.html">Generador de partituras</a></li>
                <li><a href="Index3.html">Generador de ondas</a></li>
                <li><a href="index4.html">Círculo de quintas</a></li>
                <li><a href="index5.html">Generador de cifrados</a></li>
            </ul>
        </nav>
    </header>
</div>
    <main>
        <div class="main-layout-container">
            <div id="scales-chords-tab" class="tab-content active">
                <div class="cards-container">
                    <div class="card">
                        <h3 class="card-title">Tonalidad</h3>
                        <div class="card-options" id="tonalidad-options">
                            <!-- Options will be generated by javascript -->
                        </div>
                    </div>
                    <div class="selector-buttons-container">
                        <button id="open-escala-modal-btn" class="selector-button">Seleccionar Escala</button>
                        <button id="open-acorde-modal-btn" class="selector-button">Seleccionar Acorde</button>
                    </div>
                </div>

                <!-- Modal for Escalas -->
                <div id="escala-modal" class="modal">
                    <div class="modal-content">
                        <span class="close-button" id="close-escala-modal-btn">&times;</span>
                        <h2>Escalas</h2>
                        <input type="text" id="escala-search" class="modal-search" placeholder="Buscar escala...">
                        <div id="escala-options-modal" class="modal-options">
                            <!-- Scale options will be generated by javascript -->
                        </div>
                    </div>
                </div>

                <!-- Modal for Acordes -->
                <div id="acorde-modal" class="modal">
                    <div class="modal-content">
                        <span class="close-button" id="close-acorde-modal-btn">&times;</span>
                        <h2>Acordes</h2>
                        <input type="text" id="acorde-search" class="modal-search" placeholder="Buscar acorde...">
                        <div id="acorde-options-modal" class="modal-options">
                            <!-- Chord options will be generated by javascript -->
                        </div>
                    </div>
                </div>
                
                <div id="resultado-box" class="result-box">
                    </div>

                <div id="contexto-box" class="context-box">
                    </div>

                <div id="predefined-progressions-section" class="progression-section">
                    <div class="predefined-selector-container">
                        <select id="predefined-progressions-select" class="predefined-select">
                            <option value="">Progresiones</option>
                        </select>
                    </div>
                    <div id="progression-preview" class="progression-preview" style="display: none;">
                        <p id="preview-description" class="preview-description"></p>
                        <div id="preview-chords" class="preview-chords"></div>
                    </div>
                </div>

                </div>

            <div id="progression-container" class="progression-section">
                <h2>Progresión de Acordes</h2>
                <div id="progression-builder" class="progression-builder">
                    </div>
                <div class="progression-controls">
                    <button id="toggle-progression-btn" class="control-button stopped" style="display: none;">
                        <span class="play-icon">▶</span>
                        <span class="stop-icon">■</span>
                    </button>
                    <button id="clear-progression-btn" class="control-button">Limpiar</button>
                    <button id="generate-random-btn" class="control-button" style="display: none;">Generar Aleatorio</button>
                </div>
                <div class="player-controls-container">
                    <label for="piano-volume">Volumen Piano:</label>
        <input type="range" id="piano-volume" min="-60" max="0" value="-6">
                </div>
                <div class="player-controls-container">
                    <label for="arpeggio-volume">Volumen Arpegio:</label>
        <input type="range" id="arpeggio-volume" min="-60" max="0" value="-12">
                </div>
                <div class="player-controls-container">
                    <label for="string-volume">Volumen Cuerdas:</label>
        <input type="range" id="string-volume" min="-60" max="0" value="-6">
                </div>
                <div class="player-controls-container">
                    <label for="drum-volume">Volumen Batería:</label>
        <input type="range" id="drum-volume" min="-60" max="0" value="-6">
                </div>
                <div class="player-controls-container">
                    <label for="drum-pattern-select">Patrón de Batería:</label>
                    <select id="drum-pattern-select">
                        <option value="midi_beat_1.mid">Patrón 1</option>
                        <option value="midi_beat_2.mid">Patrón 2</option>
                        <option value="midi_beat_3.mid">Patrón 3</option>
                        <option value="midi_beat_4.mid">Patrón 4</option>
                    </select>
                </div>
            </div>
        </div>

    <div id="piano-tab" class="tab-content" style="display: none;">
            <div class="piano-box">
               
                <div class="piano-controls">
                    <label for="note-volume">Volumen:</label>
                    <input type="range" id="note-volume" min="-45" max="20" step="1" value="-10" class="volume-slider">
                </div>
                <div class="piano-keyboard">
                    <div class="note-btn white" data-note="Do">C</div>
                    <div class="note-btn black" data-note="Do#">C#</div>
                    <div class="note-btn white" data-note="Re">D</div>
                    <div class="note-btn black" data-note="Re#">D#</div>
                    <div class="note-btn white" data-note="Mi">E</div>
                    <div class="note-btn white" data-note="Fa">F</div>
                    <div class="note-btn black" data-note="Fa#">F#</div>
                    <div class="note-btn white" data-note="Sol">G</div>
                    <div class="note-btn black" data-note="Sol#">G#</div>
                    <div class="note-btn white" data-note="La">A</div>
                    <div class="note-btn black" data-note="La#">A#</div>
                    <div class="note-btn white" data-note="Si">B</div>
                </div>
            </div>
        </div>
        </main>

 

    <button id="floating-play-stop-button" class="button">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="24" height="24">
            <path d="M8 5v14l11-7z"/>
        </svg>
    </button>
    <div id="floating-button-container">
        <button id="floating-metronome-button" class="button">
            <img src="assets/images/metronomo.png" alt="Metrónomo" style="width: 50px; height: 50px;">
        </button>
        <div id="metronome-options-popup" class="metronome-popup">
            <div class="metronome-controls">
                <div class="selector-container">
                    <label for="bpm-input">BPM:</label>
                    <input type="number" id="bpm-input" value="60" min="30" max="240">
                    <span id="bpm-value-display">60</span>
                    <input type="range" id="bpm-slider" min="30" max="240" value="60">
                </div>
                <div class="selector-container">
                    <label for="metronome-volume">Volumen:</label>
        <input type="range" id="metronome-volume-slider" min="-40" max="0" value="-10">
                </div>
                <div class="selector-container">
                    <button class="button-option" id="metronome-start-stop">
                        <i class="fas fa-play"></i> Start
                    </button>
                </div>
                <div class="selector-container">
                    <button class="button-option" id="metronome-tap">
                        <i class="fas fa-hand-point-up"></i> Tap
                    </button>
                </div>
            </div>
            <div class="midi-player-controls-inside-metronome" style="display: none;">
                <h2>Reproductor MIDI</h2>
                <button id="play-midi-btn" class="control-button">Reproducir Ritmo MIDI</button>
            </div>
        </div>
        <button id="floating-generate-random-btn" class="button">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="24" height="24">
                <path d="M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.59 15.19 20 13.63 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 8.74C4.41 10.07 4 11.59 4 13c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"/>
            </svg>
        </button>
        
        <textarea id="floating-text-input" class="button" placeholder="Introduce acordes aquí..."></textarea>
    </div>
<script src="assets/scripts.js"></script>
</body>
</html>